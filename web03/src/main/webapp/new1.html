<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js">
</script>
<script type="text/javascript">
	$(function() {
		$('#b1').click(function() {
			$('div').empty()
			$.ajax({
				url : 'https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Frss.hankyung.com%2Ffeed%2Fhei.xml&api_key=ic6fzw6kuajvvxonir1lmsfxafbw1wm3ig5r4m5h',
				data : {
					url : "https://rss.hankyung.com/feed/hei.xml",
					api_key : "ic6fzw6kuajvvxonir1lmsfxafbw1wm3ig5r4m5h",
					count : 20
				},
				success : function(x) { //x=jsp파일의 실행결과
				//items키를 주고, 값인 []리스트를 가지고 오자.
				list = x.items
				for (var i = 0; i < list.length; i++) {
					t = list[i].title
					p = list[i].pubDate
					l = list[i].link
				
				$('div').append(t+" "+ p +" "+l +"<br>")
					}
				} //success
			}) //ajax
		}) //b1
		$('#b2').click(function() {
			$('div').empty()
			$.ajax({
				url : 'https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Frss.hankyung.com%2Ffeed%2Fpolitics.xml&api_key=ic6fzw6kuajvvxonir1lmsfxafbw1wm3ig5r4m5h',
				data : {
					url : "https://rss.hankyung.com/feed/politics.xml",
					api_key : "ic6fzw6kuajvvxonir1lmsfxafbw1wm3ig5r4m5h",
					count : 20
				},
				success : function(x) { //x=jsp파일의 실행결과
				//items키를 주고, 값인 []리스트를 가지고 오자.
				list = x.items
				for (var i = 0; i < list.length; i++) {
					t = list[i].title
					p = list[i].pubDate
					l = list[i].link
					a = "<a href=" + l +">" + t  +"</a>"
				
				$('div').append(a+ " "+t+" "+ p +" "+l +"<br>")
					}
				} //success
			}) //ajax
		}) //b1
	}) //$
</script>
</head>
<body bgcolor="lime">
	<h3>비동기통신으로 서버와 통신하기</h3>
	신문뉴스 데이터 받아오기(ajax로) <br>
	<button style='color: blue; background: pink' id='b1'>연예인 기사(한경)</button>
	<button style='color: blue; background: pink' id='b2'>최신 기사(한경)</button>

	<hr color="green">
	<div id="result"></div>
</body>
</html>
